<div class="container">

    <br>

    <h1 align="center">User Guide</h1>

    <br>
    
    
    <p><a href="#C4" target="_self">See also Chapter 4.</a></p>

    <p class='userGuideText'>The name DivaDiaWI stands for a Web-based Interface for Document Image Analysis of <a href="http://diuf.unifr.ch/main/diva/">DIVA group</a> (Document, Image and Voice Analysis group). DivaDiaWI is used for assisting the user to semi-automatically generate ground truth for large numbers of historical documents. </p>

    <p class='userGuideText'>The video showing the user guide is below. The detailed text of the user guide is shown below the video.</p>

    <div id="divYouTube">
        <iframe width="900" height="600" src="//www.youtube.com/embed/WWOg4F-MTYk?autoplay=0" allowfullscreen="allowfullscreen" mozallowfullscreen="mozallowfullscreen" msallowfullscreen="msallowfullscreen" oallowfullscreen="oallowfullscreen" webkitallowfullscreen="webkitallowfullscreen">
        </iframe>
    </div>

    <br>


    <p class='userGuideText'>DivaDiaWI incorporates two parts: automatic processing and manual editing. In the automatic processing part, the system automatically draws polygons representing text lines for which manual generation of GT is quite time-consuming. Parallelly or sequentially, the user can manually edit the polygons by modifying them or directly drawing new polygons.</p>

    <ul>
        <li>
            <h2>Basic operations</h2>
        </li>
        <p class='userGuideText'>The user can upload any image to DivadiaWI. To upload an image, select File -> Open image..., or click the button <button type="button" class="btn btn-primary"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span></button>. The user can either type the url of the image, or choose the image from his/her local computer.
        </p>
        <p class='userGuideText'>The user can use the mouse wheel to zoom in/out and drag the image. Moreover, with the directional arrows and zooming buttons in the left, the user can also move and zoom the image, just like using a map.
        </p>
        <li>
            <h2>Automatic processing</h2>
        </li>
        <p class='userGuideText'>Automatic processing has four modes: segment, split, merge, and crop. Among the five green buttons, the first four represent the four modes respectively. The last button "Clear" is used to clear the result generated by the automatic processing if the user is not satisfied with it.
        </p>
        <ul>
            <li>
                <h3>Segment</h3>
            </li>
            <p class='userGuideText'>The Segment button is used to extract text lines from a <b>single</b> text block (Fig. 1(a)). First, the users needs to manually select a text block. The user clicks the green button "Segment". Then the system allows the user to draw a rectangle representing the text block. The cursor becomes <img src="https://diuf.unifr.ch/diva/divadiawi/images/rectangle.gif">. In a way similar with drawing a text block rectangle, the user clicks a point as a vertex of the rectangle and clicks a second one as the diagonal vertex (Fig. 1(b)). The result is shown in Fig. 1(c).</p>

            <div class="figure">
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/SegmentStep1.png" height="350" width="330">
                    &nbsp;
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/SegmentStep2.png" height="350" width="330">
                    &nbsp;
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/SegmentStep3.png" height="350" width="330">
                </p>
                <p>
                    Fig. 1(a): A text block.
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    Fig. 1(b): Select the text block.
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    Fig. 1(c): The result.
                </p>
            </div>

            <p class='userGuideText'>
                The perfomance of the automatic text lines segmentation depends much on how the user manually selects text block. Here we give some tips. 1) The selected area should contain only one single-column text block. If the two columns of text blocks (e.g., the pages of the Parzival dataset) are selected together, the segment process button will probably fail. 2) The selection should be as precise as possible. Don't contain much margin of the text block.</p>
            
            <li>
                <h3>Split</h3>
            </li>
            <p class='userGuideText'>The Split button is used to split polygons that are <b>vertically</b> connected (Fig. 2(a)). Be careful that the split button only processes polygons that are vertically connected. If the polygons are horizontally connected, or irregularly connected, the split button will fail. In additin, the Split button only processes the polygons representing text lines. </p>
            <p class='userGuideText'>The user needs to click this button, and the cursor will become
                <img src="http://www.rw-designer.com/cursor-extern.php?id=28789">. Then the user clicks the position from where you want to separate the lines (Fig. 2(b)). If the click position is outside the polygon, the split process will fail. The result is shown in Fig. 2(c).</p>
            <div class="figure">
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/SplitStep1.png" height="200" width="800">
                </p>
                <p>Fig. 2(a): Polygons vertically connected.</p>
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/SplitStep2.png" height="200" width="800">
                </p>
                <p>Fig. 2(b): Click the position from where you want to separate the polygon.</p>
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/SplitStep3.png" height="200" width="800">
                </p>
                <p>Fig. 2(c): The result.</p>
            </div>

            <li>
                <h3>Merge</h3>
            </li>
            <p class='userGuideText'>The Merge button is used to merge polygons that are <b>horizontally</b> connected (Fig. 3(a)). The merge button is mostly used on the George Washington dataset, as the gaps between words are often big. Be careful that the merge button only processes polygons that are horizontally separated. If the polygons are vertically separated, or irregularly separated, the merge button will fail. In additin, the Merge button only processes the polygons representing text lines.</p>
                
                <p class='userGuideText'>The user needs to click this button, and the cursor will become <img src="http://www.rw-designer.com/cursor-extern.php?id=28786">. Then the user clicks the interior of the first polygon, and then clicks the interior of the second polygon (Fig. 3(b)). If the click position is outside the polygon, the merge process will fail. The result is shown in Fig. 3(c).</p>
            
                <div class="figure">
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/MergeStep1.png" height="200" width="800">
                </p>
                <p>Fig. 3(a): Polygons horizontally separated.</p>
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/MergeStep2.png" height="200" width="800">
                </p>
                <p>Fig. 3(b): Click the interior of the first polygon, and then the interior of the second polygon.</p>
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/MergeStep3.png" height="200" width="800">
                </p>
                <p>Fig. 3(c): The result.</p>
            </div>
                

            <li>
                <h3>Crop</h3>
            </li>
            <p class='userGuideText'>The Crop button is used to crop the redundant part lying at an endpoint of a polygon (Fig. 4(a)). The Crop button only processes the polygons representing text lines. The user needs to click this button, and the cursor will become <img src="http://www.rw-designer.com/cursor-extern.php?id=3243">. Then the user clicks the redundant part of the polygon (Fig. 4(b)). If the click position is outside the polygon, the crop process will fail. The result is shown in Fig. 4(c). </p>
            
            <div class="figure">
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/CropStep1.png" height="200" width="800">
                </p>
                <p>Fig. 4(a): A polygon with a redundant part in the left.</p>
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/CropStep2.png" height="200" width="800">
                </p>
                <p>Fig. 4(b): Click the position from where you want to crop the polygon.</p>
                <p>
                    <img src="https://diuf.unifr.ch/diva/divadiawi/images/CropStep3.png" height="200" width="800">
                </p>
                <p>Fig. 4(c): The result.</p>
            </div>
        </ul>
        
        
        
        
        
        
        
        <h2><a id="C4">Chapter 4</a></h2>
<p>This chapter explains ba bla bla</p>
        
        
        
        
        
        
        
        
        
        
        <li>
            <h2>Manual editing</h2>
        </li>
        <p class='userGuideText'>Manual editing includes two modes: manual drawing and manual modification.</p>
        <ul>
            <li>
                <h3>Manual drawing</h3>
            </li>
            <p class='userGuideText'>The user can directly draw ground truth for different regions. In the menubar, click "Draw". Five region types and two shapes are listed. Choose one for each group. On the image, the use can draw ground truth with the mouse. When the user draws a polygon, single click creates a vertex of a polygon, and double click completes the polygon. In addition, if a single click is close enough to the first vertext of the polygon, the polygon is also completed. During drawing a polygon, if the user wants to delete the last point (vertex), press <kbd>backspace</kbd>. When the user draws a rectangle, the first single click creates a vertex of the rectangle, and the second single click creates the diagonal vertex and also completes the rectangle.
            </p>
            <li>
                <h3>Manual modification</h3>
            </li>
            <p class='userGuideText'>When the cursor is close enough to the boundary of a region, the region is highlighted with light red. In the meanwhile, a small yellow ball appears on the boundary. The appearance of the highlight means that now the user can modify the region. If no highlight is shown, the user cannot modify any region.</p>
            <p class='userGuideText'>Manual modification includes three types of operations: move a vertex, add a vertex, and delete a region. The location of the small yellow ball is the closest location on the boundary to the cursor. If the small yellow ball is located at a vertex, the user can move the vertex by dragging the mouse. Otherwise, by dragging the mouse, the user adds a new vertex to the boundary and moves it to a new position. Finally, the user can delete the region by press <kbd>delete</kbd>.
            </p>
        </ul>
        <p class='userGuideText'>By default, all region types are shown after being drawn. But the user can choose only optional region tyeps to show. For example, if the user wants to see all text lines but hide the other region types, select "Show" in the menubar, and then choose "Text line". The user can choose multiple region types to show. In addition, only the shown regions can be modified again.
        </p>
    </ul>
    <p class='userGuideText'>After finishing the manual edition, the user can save the ground truth in an XML file of the <a href="http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=5597587">PAGE format</a>. To do it, select File -> Save GT..., or click the button "Export GT". The user is asked to fill in information including the image name and email address. The XML file name is automatically composed of the image name and email address, but the user can also type the customized name. Click "OK" and save the ground truth. Later on, the user can import the ground truth to view or edit again by selecting File -> Read GT..., or by clicking the button "Import GT".
    </p>










</div>










